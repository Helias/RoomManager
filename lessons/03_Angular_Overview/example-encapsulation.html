<!-- Copy and Paste me in a new Pen: https://codepen.io/pen/ -->

<div class="main-background">
    <style>
        .main-background {
            background-color: red;
        }
    </style>
    Hello not encapsulated, should be red
</div>
<div class="main-background">
    <style>
        .main-background {
            background-color: blue;
        }
    </style>
    Hello not encapsulated, should be blue
</div>
<div customComponent class="main-background">
    <style>
        .main-background[customComponent] {
            background-color: purple;
        }
    </style>
    Hello encapsulated, should be purple
</div>